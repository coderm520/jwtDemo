<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" >
<head>
    <title>Getting Started: Serving Web Content</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<!--    <link th:href="@{/css/1.css}" rel="stylesheet"/>-->
</head>
<body>
<!--<p th:text="'Hello, ' + ${title}" /><br/>-->

<script th:src="@{/js/jquery-1.12.3.js}"></script>
<script>
    function login() {
        $.post(
            '/login/do',
            {
                "name":$('#txtName').val(),
                "pwd":$('#txtPwd').val()
            },
            function (response) {
                if (response.returnCode==200) {
                    //保存token
                    var token=response.token;
                    console.log('token is '+token);
                    localStorage.setItem("token",token);
                    window.location.href='/test/index?token='+token;
                }
                else{
                    console.log('wrong return code:'+response.returnCode);
                }
            }
        )
    }

</script>
<img th:src="@{/img/1.jpg}" />
<br />
<label>用户名：</label><input id="txtName" type="text" />
<br />
<label>密码:</label><input id="txtPwd" type="password">

<button onclick="login();">确定</button>
</body>
</html>
